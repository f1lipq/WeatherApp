<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="WeatherApp1.Views.MainPage"
             BackgroundImageSource="backgroundimage.png"
             Title=""
             Shell.NavBarIsVisible="False"
             >

    <!-- Grid pod calosc + nav tab na dole -->
    <Grid RowDefinitions="*, Auto">

        <!-- ScrollView z całą zawartością -->
        <ScrollView Grid.Row="0" 
                    Grid.RowSpan="2"
                    Padding="0, 0, 0, 100">
            <VerticalStackLayout Spacing="25" Margin="0, 70, 0, 0">

                <VerticalStackLayout Padding="30, 0">
                    <HorizontalStackLayout HorizontalOptions="Center">
                        <Label x:Name="City" Text="Montreal" FontFamily="PixelFont" TextColor="White" FontSize="40"/>
                    </HorizontalStackLayout>
                    <HorizontalStackLayout HorizontalOptions="Center">
                        <Label Text="19℃" TextColor="White" FontSize="40" FontFamily="PixelFont"/>
                    </HorizontalStackLayout>
                    <HorizontalStackLayout HorizontalOptions="Center">
                        <Label Text="Mostly Clear" TextColor="Grey" FontFamily="PixelFont"/>
                    </HorizontalStackLayout>
                    <HorizontalStackLayout HorizontalOptions="Center" Margin="0, 0, 0, 40" Spacing="20">
                        <Label Text="H:24℃" TextColor="White" FontFamily="PixelFont"/>
                        <Label Text="L:18℃" TextColor="White" FontFamily="PixelFont"/>
                    </HorizontalStackLayout>
                    <HorizontalStackLayout HorizontalOptions="Center">
                        <Image Source="pixel_house.png" HeightRequest="350" WidthRequest="350"/>
                    </HorizontalStackLayout>
                </VerticalStackLayout>

                <Border StrokeThickness="4"
                        Stroke="#E61F1D47"
                        Padding="20"
                        Margin="0, -70, 0, 0"
                        x:Name="FullBorder">

                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#E695ABD9" Offset="0" />
                            <GradientStop Color="#E61F1D47" Offset="1" />
                        </LinearGradientBrush>
                    </Border.Background>

                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="30"/>
                    </Border.StrokeShape>

                    <Border.Shadow>
                        <Shadow Brush="Black" 
                                Opacity="0.4" 
                                Radius="25" 
                                Offset="0,10"/>
                    </Border.Shadow>
                    <VerticalStackLayout Margin="0, 20, 0, 0">
                        <!-- WEEKLY / HOURLY FORECAST
                        <Border BackgroundColor="#D11F1D47" Margin="0, 0, 0, 20">
                            <HorizontalStackLayout HorizontalOptions="Center" Spacing="50">
                                <Button Text="Hourly Forecast" 
                                        TextColor="White"
                                        BackgroundColor="Transparent"
                                        FontFamily="PixelFont"/>
                                <Button Text="Weekly Forecast" 
                                        TextColor="White"
                                        BackgroundColor="Transparent"
                                        FontFamily="PixelFont"/>
                            </HorizontalStackLayout>
                        </Border>
                        -->
                        <!-- Pogoda dniowa -->
                        <Grid RowDefinitions="*, *" RowSpacing="20"
                              Padding="0">
                            <Border
                                x:Name="HourlyBox"
                                Grid.Row="0"
                                StrokeThickness="0"
                                StrokeShape="RoundRectangle 40"
                                BackgroundColor="#1F1D47"
                                Padding="20, 10, 0, 10"
                                >

                                <VerticalStackLayout>
                                    <HorizontalStackLayout>
                                        <Image Source="clock_white.png"
                                           VerticalOptions="Center"
                                               HorizontalOptions="Center"
                                           WidthRequest="20"
                                           HeightRequest="20"
                                               Margin="10, 0 ,0, 0"/>
                                    <Label Text="Hourly forecast"
                                       FontFamily="PixelFont"
                                       FontSize="18"
                                       TextColor="White"
                                       Margin="20, 0, 0, 0"/>
                                    </HorizontalStackLayout>


                                    <CollectionView ItemsSource="{Binding HourlyWeather}"
                                        HeightRequest="140"
                                        HorizontalScrollBarVisibility="Never"
                                        Grid.Row="0">
                                <CollectionView.ItemsLayout>
                                    <LinearItemsLayout Orientation="Horizontal" ItemSpacing="10"/>
                                </CollectionView.ItemsLayout>

                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Border HeightRequest="120"
                                            WidthRequest="60"
                                            Stroke="#1F1D47"
                                            StrokeThickness="3"
                                            Margin="0,0"
                                                BackgroundColor="#1F1D47">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                    <GradientStop Color="#E65A6490" Offset="0" />
                                                    <GradientStop Color="#E6496F94" Offset="1" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <Border.StrokeShape>
                                                <RoundRectangle CornerRadius="60"/>
                                            </Border.StrokeShape>

                                            <VerticalStackLayout VerticalOptions="Center" Margin="0, 10, 0, 10">
                                                <Label Text="{Binding Time}" 
                                                   HorizontalTextAlignment="Center"
                                                   TextColor="White"
                                                   FontFamily="PixelFont"/>
                                                <Image Source="{Binding Icon}" 
                                                   HeightRequest="50" 
                                                   WidthRequest="50"/>
                                                <Label Text="{Binding Temperature}" 
                                                   HorizontalTextAlignment="Center"
                                                   TextColor="White"
                                                   FontFamily="PixelFont"/>
                                            </VerticalStackLayout>
                                        </Border>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>
                            </VerticalStackLayout>
                            </Border>

                            <!-- Pogoda na 10 dni -->
                            <Border
                                Grid.Row="1"
                                StrokeThickness="0"
                                StrokeShape="RoundRectangle 40"
                                BackgroundColor="#1F1D47"
                                Padding="20, 10, 0, 10"
                                x:Name="WeeklyBox"
                                >
                                <VerticalStackLayout>
                                    <HorizontalStackLayout>
                                        <Image Source="calendar_white.png"
                                               HeightRequest="20"
                                               WidthRequest="20"
                                               Margin="10, 0, 0, 0"
                                               />
                                        <Label Text="10-day forecast"
                                       FontFamily="PixelFont"
                                       FontSize="18"
                                       TextColor="White"
                                       Margin="10, 0, 0, 0"/>
                                    </HorizontalStackLayout>

                                <CollectionView ItemsSource="{Binding WeeklyWeather}"
                                            HeightRequest="190"
                                            HorizontalScrollBarVisibility="Never"
                                            Grid.Row="1"
                                            Margin="0, 0, 0, 0"
                                            >
                                    <CollectionView.ItemsLayout>
                                        <LinearItemsLayout Orientation="Horizontal" ItemSpacing="10"/>
                                    </CollectionView.ItemsLayout>

                                    <CollectionView.ItemTemplate>
                                        <DataTemplate>
                                            <Border HeightRequest="170"
                                                WidthRequest="60"
                                                Stroke="#1F1D47"
                                                StrokeThickness="3"
                                                Margin="0, 0, 0, 0"
                                                
                                                >
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                        <GradientStop Color="#E65A6490" Offset="0" />
                                                        <GradientStop Color="#E6496F94" Offset="1" />
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                                <Border.StrokeShape>
                                                    <RoundRectangle CornerRadius="60"/>
                                                </Border.StrokeShape>

                                                <VerticalStackLayout VerticalOptions="Center" Margin="0, 15, 0, 15">
                                                        <Label
                                                            HorizontalTextAlignment="Center"
                                                            Text="{Binding HTemp}"
                                                            FontFamily="PixelFont"
                                                            TextColor="White"
                                                            FontSize="20"
                                                            Margin="0, 0, 0, -5"
                                                            />
                                                        <Label
                                                            HorizontalTextAlignment="Center"
                                                            FontSize="20"
                                                            Text="{Binding LTemp}"
                                                            FontFamily="PixelFont"
                                                            TextColor="Gray"
                                                            Margin="0, 0, 0, 5"/>
                                                   
                                                    <Image Source="{Binding Icon}" 
                                                       HeightRequest="50" 
                                                       WidthRequest="50"/>
                                                        <Label Text="{Binding Date}" 
                                                               FontSize="15"
                                                       HorizontalTextAlignment="Center"
                                                       TextColor="White"
                                                       FontFamily="PixelFont"/>
                                                    </VerticalStackLayout>
                                            </Border>
                                        </DataTemplate>
                                    </CollectionView.ItemTemplate>
                                </CollectionView>
                                </VerticalStackLayout>
                            </Border>

                        </Grid>

                        <VerticalStackLayout Padding="20" Spacing="15">

                            <!-- Air Quality Card -->
                            <Border BackgroundColor="#1F1D47"
                                    StrokeThickness="0"
                                    Padding="20"
                                    Margin="0, 0, 0, 0"
                                    x:Name="AirQualityBox">
                                <Border.StrokeShape>
                                    <RoundRectangle CornerRadius="20"/>
                                </Border.StrokeShape>

                                <VerticalStackLayout Spacing="15">
                                    <Label Text="AIR QUALITY" 
                           TextColor="#9B8BC4"
                           FontSize="14"
                           FontFamily="PixelFont"/>

                                    <Label Text="3-Low Health Risk" 
                           TextColor="White"
                           FontSize="24"
                           FontAttributes="Bold"
                           FontFamily="PixelFont"/>

                                    <!-- Progress Bar -->
                                    <ProgressBar Progress="0.7" 
                                 ProgressColor="#E91E63"
                                 HeightRequest="8"
                                 Margin="0,10,0,0"/>

                                    <Grid>
                                        <Label Text="See more" 
                               TextColor="White"
                               FontSize="16"
                               VerticalOptions="Center"
                                               FontFamily="PixelFont"/>
                                        <Label Text="›" 
                                           TextColor="White"
                                           FontSize="24"
                                           HorizontalOptions="End"
                                            VerticalOptions="Center"
                                            FontFamily="PixelFont"/>
                                    </Grid>
                                </VerticalStackLayout>
                            </Border>

                            <!-- Bloki -->

                            <!-- Pierwszy kafelek -->

                            <Grid ColumnDefinitions="*, *"
                                  RowDefinitions="*, *, *"
                                  ColumnSpacing="15"
                                  RowSpacing="15">

                                <Border Grid.Column="0"
                                        Grid.Row="0"
                                        BackgroundColor="#1F1D47"
                                        StrokeThickness="0"
                                        Padding="15"
                                        x:Name="Box1">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>

                                    <VerticalStackLayout Spacing="8">
                                        <Label Text="☀️ UV INDEX" 
                                               TextColor="#9B8BC4"
                                               FontSize="11"
                                               FontFamily="PixelFont"/>

                                        <Label Text="4" 
                                               TextColor="White"
                                               FontSize="42"
                                               FontFamily="PixelFont"/>

                                        <Label Text="Moderate" 
                                               TextColor="White"
                                               FontSize="16"
                                               FontFamily="PixelFont"/>

                                        <ProgressBar Progress="0.4" 
                                                     ProgressColor="#4A90E2"
                                                     BackgroundColor="#5A4B8A"
                                                     HeightRequest="6"
                                                     Margin="0,8,0,0"/>
                                    </VerticalStackLayout>
                                </Border>

                                <!-- Drugi kafelek -->

                                <Border Grid.Column="1"
                                        Grid.Row="0"
                                        BackgroundColor="#1F1D47"
                                        StrokeThickness="0"
                                        Padding="15"
                                        x:Name="Box3">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>

                                    <VerticalStackLayout Spacing="8">
                                        <Label Text="☀️ SUNRISE" 
                                               TextColor="#9B8BC4"
                                               FontSize="11"
                                               FontFamily="PixelFont"/>

                                        <Label Text="5:28" 
                                               TextColor="White"
                                               FontSize="42"
                                               FontFamily="PixelFont"/>


                                        <ProgressBar Progress="0.4" 
                                                     ProgressColor="#4A90E2"
                                                     BackgroundColor="#5A4B8A"
                                                     HeightRequest="6"
                                                     Margin="0,8,0,0"/>

                                        <Label Text="Sunset: 7:25PM" 
                                               TextColor="White"
                                               FontSize="16"
                                               FontFamily="PixelFont"/>
                                    </VerticalStackLayout>
                                </Border>

                                <!-- Trzeci kafelek -->

                                <Border Grid.Column="0"
                                        Grid.Row="1"
                                        BackgroundColor="#1F1D47"
                                        StrokeThickness="0"
                                        Padding="15"
                                        x:Name="Box2">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="100"/>
                                    </Border.StrokeShape>


                                    <VerticalStackLayout Spacing="8">
                                        <Label Text="💨  WIND" 
                                               Grid.Row="0"
                                               TextColor="#9B8BC4"
                                               FontSize="11"
                                               FontFamily="PixelFont"
                                               HorizontalTextAlignment="Center"/>

                                        <Label Text="2 m/s" 
                                               TextColor="White"
                                               FontSize="42"
                                               FontFamily="PixelFont"/>

                                        <HorizontalStackLayout HorizontalOptions="Center">
                                            <Label Text="East" 
                                               TextColor="White"
                                               FontSize="20"
                                               HorizontalTextAlignment="Center"
                                                   VerticalTextAlignment="Center"
                                               FontFamily="PixelFont"/>
                                            <Image Source="arrow_right.png"
                                               HeightRequest="30"
                                               WidthRequest="50"/>

                                        </HorizontalStackLayout>


                                    </VerticalStackLayout>
                                </Border>

                                <!-- Czwarty kafelek -->

                                <Border Grid.Column="1"
                                        Grid.Row="1"
                                        BackgroundColor="#1F1D47"
                                        StrokeThickness="0"
                                        Padding="15"
                                        x:Name="Box4">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>

                                    <VerticalStackLayout Spacing="8">
                                        <Label Text="🌧️ RAINFALL" 
                                               TextColor="#9B8BC4"
                                               FontSize="11"
                                               FontFamily="PixelFont"/>
                                        <HorizontalStackLayout>
                                            <Label Text="&lt;0,03" 
                                               TextColor="White"
                                               FontSize="30"
                                               FontFamily="PixelFont"/>
                                        <Label Text="cm" 
                                               TextColor="White"
                                               FontSize="15"
                                               FontFamily="PixelFont"
                                               HorizontalTextAlignment="End"/>
                                        </HorizontalStackLayout>


                                        <Label Text="Daily rainfall total" 
                                               TextColor="White"
                                               FontSize="16"
                                               FontFamily="PixelFont"/>
                                    </VerticalStackLayout>
                                </Border>
                                <!-- Piąty kafelek -->

                                <Border Grid.Column="0"
                                        Grid.Row="2"
                                        BackgroundColor="#1F1D47"
                                        StrokeThickness="0"
                                        Padding="15"
                                        x:Name="Box5">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="20"/>
                                    </Border.StrokeShape>


                                    <VerticalStackLayout Spacing="8">
                                        <Label Text="💧 HUMIDITY" 
                                               Grid.Row="0"
                                               TextColor="#9B8BC4"
                                               FontSize="11"
                                               FontFamily="PixelFont"/>

                                        <Label Text="75%" 
                                               TextColor="White"
                                               FontSize="42"
                                               FontFamily="PixelFont"/>
                                        <HorizontalStackLayout>
                                            <Border
                                        VerticalOptions="Center"
                                                HorizontalOptions="Center"
                                        BackgroundColor="#b285d4"
                                        StrokeThickness="0"
                                        x:Name="CelsiusMiniBox1"
                                                Padding="3">
                                                <Border.StrokeShape>
                                                    <RoundRectangle CornerRadius="100"/>
                                                </Border.StrokeShape>

                                                <Label Text="2°" 
                                                   TextColor="White"
                                                   FontSize="15"
                                                      
                                                   HorizontalTextAlignment="Center"
                                                       VerticalTextAlignment="Center"
                                                   FontFamily="PixelFont"/>
                                            </Border>
                                            <Label Text="Dew point" 
                                                   TextColor="White"
                                                   FontSize="15"
                                                   Margin="10, 0, 0, 0"
                                                   HorizontalTextAlignment="Center"
                                                       VerticalTextAlignment="Center"
                                                   FontFamily="PixelFont"/>
                                        </HorizontalStackLayout>



                                    </VerticalStackLayout>
                                </Border>
                                
                                <!-- Szósty kafelek -->

                                <Border Grid.Column="1"
                                        Grid.Row="2"
                                        BackgroundColor="#1F1D47"
                                        StrokeThickness="0"
                                        Padding="15"
                                        x:Name="Box6">
                                    <Border.StrokeShape>
                                        <RoundRectangle CornerRadius="100"/>
                                    </Border.StrokeShape>


                                    <VerticalStackLayout Spacing="8">

                                        <Label Text="PRESSURE" 
                                               Grid.Row="0"
                                               TextColor="#9B8BC4"
                                               FontSize="11"
                                               FontFamily="PixelFont"
                                               HorizontalTextAlignment="Center"/>

                                        <Label Text="1027" 
                                               TextColor="White"
                                               FontSize="42"
                                               FontFamily="PixelFont"
                                               HorizontalTextAlignment="Center"/>

                                        <Label Text="hPa" 
                                                   TextColor="White"
                                                   FontSize="20"
                                                   HorizontalTextAlignment="Center"
                                                       VerticalTextAlignment="Center"
                                                   FontFamily="PixelFont"/>



                                    </VerticalStackLayout>
                                </Border>



                            </Grid>

                        </VerticalStackLayout>

                    </VerticalStackLayout>
                </Border>

            </VerticalStackLayout>
        </ScrollView>


        <Border Grid.Row="1" 
              Padding="10"
              HeightRequest="60"
              WidthRequest="60"
              HorizontalOptions="End"
              Margin="0, 0, 30, 20"
              BackgroundColor="#DD48319D">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="20"/>
            </Border.StrokeShape>
            <!--Navigation tab
            <Grid Grid.Row="1" 
              ColumnDefinitions="*"
              Padding="10"
              HeightRequest="60"
              WidthRequest="60"
              HorizontalOptions="End"
              Margin="0, 0, 30, 20"
              BackgroundColor="#EE48319D"
              > -->
                <!--
            <Button Grid.Column="0"
            ImageSource="map.png"
            WidthRequest="50"
            BackgroundColor="Transparent"
            HorizontalOptions="Center"/>

            <Button Grid.Column="1"
            ImageSource="addsymbol.png"
            BackgroundColor="White"
            CornerRadius="100"
            HeightRequest="60"
            WidthRequest="60"
            HorizontalOptions="Center"
            BorderColor="#2E335A">
                <Button.Shadow>
                    <Shadow Brush="Black"
                Opacity="0.7"
                Radius="20"
                Offset="0,5"/>
                </Button.Shadow>
            </Button>
            -->

                <Button Grid.Column="2"
            ImageSource="weathers.png"
            WidthRequest="60"
            HeightRequest="60"
            BackgroundColor="Transparent"
            HorizontalOptions="Center"
            
            Clicked="GoToAllWeathers"
            CornerRadius="20"/>

            <!--</Grid>-->
        </Border>
    </Grid>

</ContentPage>